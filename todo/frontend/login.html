<head>
    <title>Login page</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.7.7/axios.min.js"></script>
</head>

<script>
    async function login()
    {
        try
        {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            const response = await axios.post('http://localhost:3000/login',{
                email:email,
                password:password
            });

            localStorage.setItem('token',response.data.token);
            window.location.href="todo.html";
        }
        catch(err)
        {
            console.log(err.response?.data?.msg || "Unknown error occurred");
            alert(err.response?.data?.msg || "Login failed");
        }
    }
</script>
<body>
    <div style="display: flex; flex-direction: column; align-items: center;">
        <input type="email" placeholder="email" id="email"><br>
        <input type="password" placeholder="password" id="password"><br>
        <button onclick="login()">Login</button>
    </div>
</body>