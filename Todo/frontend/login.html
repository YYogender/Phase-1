<head>
    <title>Login</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.7.7/axios.min.js"></script>
</head>


<script>
    async function login()
    {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        try
        {
            const response = await axios.post('http://localhost:3000/login',{
                email,password
            });

            localStorage.setItem('token',response.data.token);
            window.location.href='todo.html';
        }
        catch(err)
        {
            console.log(err.response?.data?.msg || "Unknown error occurred");
            alert(err.response?.data?.msg || "Login failed");
        }
    }
</script>

<body>
    <div style="display: flex; flex-direction: column; align-items: center;">
        <input type="email" placeholder="email" id="email" style="margin-bottom: 10px;"><br>
        <input type="password" placeholder="password" id="password" style="margin-bottom: 10px;"><br>
        <button onclick="login()">Login</button>
    </div>
</body>